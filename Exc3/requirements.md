Требования по безопасности к внешним интеграциям

1. Все взаимодействие между нашей системой и системой умного дома должно происходить по защищеному каналу HTTPS
2. Биометрия и номерные знаки должны храниться в зашифрованном виде
3. Должна происходить ротация ключа шифрования и перешифроваться данные
4. Взимодествие с девайсами умного дома так же происходит по защищеному каналу
5. Только аутентифицированные и авторизованные сервисы могут подключаться к девайсам умного дома
6. Интеграция между нашей системой и системой умного дома должна аутентифицироваться с помощью OAUTH

Протокол аутентификации: OIDC.
- причина: Должны идентифицироваться и аутентфиицироваться от каждого дома по своему

Протокол авториции: ABAC
- причина: каждому дому должны быть доступны только свои данные

Как выглядит взаимодействие
- Пользователь загружает фотографию и какой-то идентфикатор человека, которого можно пускать
- В БД к ней прикрепляется идентфиикатор пользователя и дома
- В джобе берется фотография, по идентификатору дома берется нужный аутентификационные токен и отправляется партнеру
- записываем в БД идентфтикатор из в нешней системы, по которому потом мы сможем удалить

- В таком же духе происходит управления номерными знаками

- так же все изменения данныз будут логироваться как и все вызовы откр/закр двери и шлагбаума